[{"/Users/rodneycumming/Development/push-notifications/Frontend/src/index.js":"1","/Users/rodneycumming/Development/push-notifications/Frontend/src/App.js":"2","/Users/rodneycumming/Development/push-notifications/Frontend/src/serviceWorkerRegistration.js":"3","/Users/rodneycumming/Development/push-notifications/Frontend/src/reportWebVitals.js":"4","/Users/rodneycumming/Development/push-notifications/frontend/src/serviceWorkerRegistration.js":"5","/Users/rodneycumming/Development/push-notifications/frontend/src/App.js":"6","/Users/rodneycumming/Development/push-notifications/frontend/src/reportWebVitals.js":"7","/Users/rodneycumming/Development/push-notifications/frontend/src/index.js":"8","/Users/rodneycumming/Development/push-notifications/frontend/src/ScoreCalculator.js":"9","/Users/rodneycumming/Development/push-notifications/frontend/src/TodoList.js":"10","/Users/rodneycumming/Development/push-notifications/frontend/src/ProductivityForm.js":"11","/Users/rodneycumming/Development/push-notifications/frontend/src/Goals.js":"12","/Users/rodneycumming/Development/push-notifications/frontend/src/PushNotifications.js":"13","/Users/rodneycumming/Development/push-notifications/frontend/src/News.js":"14"},{"size":816,"mtime":1608366466210,"results":"15","hashOfConfig":"16"},{"size":4515,"mtime":1608415239797,"results":"17","hashOfConfig":"16"},{"size":5064,"mtime":1608370674432,"results":"18","hashOfConfig":"16"},{"size":364,"mtime":1608333346363,"results":"19","hashOfConfig":"16"},{"size":5064,"mtime":1609711564697,"results":"20","hashOfConfig":"21"},{"size":7128,"mtime":1612746618404,"results":"22","hashOfConfig":"21"},{"size":364,"mtime":1608333346363,"results":"23","hashOfConfig":"21"},{"size":816,"mtime":1609711510113,"results":"24","hashOfConfig":"21"},{"size":3682,"mtime":1610262733473,"results":"25","hashOfConfig":"21"},{"size":1243,"mtime":1612737180136,"results":"26","hashOfConfig":"21"},{"size":10924,"mtime":1612734356686,"results":"27","hashOfConfig":"21"},{"size":354,"mtime":1612063253106,"results":"28","hashOfConfig":"21"},{"size":2842,"mtime":1612062475586,"results":"29","hashOfConfig":"21"},{"size":752,"mtime":1612661568142,"results":"30","hashOfConfig":"21"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"19ic7za",{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},"1h7m7hl",{"filePath":"44","messages":"45","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/rodneycumming/Development/push-notifications/Frontend/src/index.js",[],["67","68"],"/Users/rodneycumming/Development/push-notifications/Frontend/src/App.js",["69","70"],"import React from 'react';\nimport './App.css';\n\nconst apiUrl = 'http://localhost:4000'\n\nfunction App() {\n\n  const publicVapidKey = \"BEDOEHpK6F367nT-y7cpk0u0UE2bC_rLR48wuzQzIbdVw4NEBfasdQg_P3LDzbutk75u3wiUpYUJj7mC0xzhRvE\";\n\n// if(\"serviceWorker\" in navigator) {\n//     send().catch(err => console.log(err));\n//     navigator.serviceWorker.ready.then(function(reg) {\n//     reg.pushManager.getSubscription().then(function(subscription) {\n//       subscription.unsubscribe().then(function(successful) {\n//         console.log('Youve successfully unsubscribed')\n//       }).catch(function(e) {\n//         console.log('Unsubscription failed', e)\n//         // \n//       })\n//     })\n//   });\n// }\n\n//Register service worker, register push , send push notifications  \n// async function send() {\n//     console.log(\"registering service worker\");\n    // const register = await navigator.serviceWorker.register('/service-worker.js', {\n    //     scope: \"http://localhost:3000/\"\n    // });\n//     console.log(\"Service worker registered...\");\n\n    //Register push \n    // console.log(\"Regisering push\");\n    // const subscription  = await register.pushManager.subscribe({\n    //     userVisibleOnly: true,\n    //     applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n    // })\n    // console.log(\"push registered\");\n\n    //send push notification\n    // console.log(\"sending push...\")\n    // await fetch(`${apiUrl}/subscribe`, {\n    //     method: \"POST\",\n    //     body: JSON.stringify(subscription),\n    //     headers: {\n    //         \"content-type\" : \"application/json\"\n    //     }\n    // })\n    // console.log(\"Push sent...\")\n\n// }\n\n// function registerServiceWorker() {\n//   return navigator.serviceWorker.register(\"/sw.js\");\n// }\n\nfunction isPushNotificationSupported() {\n  return \"serviceWorker\" in navigator && \"PushManager\" in window;\n}\n\nfunction registerServiceWorker() {\n  if ('serviceWorker' in navigator) {\n    // Register a service worker hosted at the root of the\n    // site using the default scope.\n    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {\n      console.log('Service worker registration succeeded:', registration);\n    }, /*catch*/ function(error) {\n      console.log('Service worker registration failed:', error);\n    });\n  } else {\n    console.log('Service workers are not supported.');\n  }\n}\n\nasync function askUserPermission() {\n  return await Notification.requestPermission();\n}\n\nasync function saveSubscription() {\n    // console.log(\"registering service worker\");\n    // const register = await navigator.serviceWorker.register('/service-worker.js', {\n    //     scope: \"/\"\n    // });\n\n    console.log('save subscription');\n    const serviceWorker = await navigator.serviceWorker.ready;\n    \n    console.log(\"Service worker registered...\");\n\n    //Register push \n    console.log(\"Regisering push\");\n    const subscription  = await serviceWorker.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n    })\n    console.log(\"push registered\", JSON.stringify(subscription));\n\n    //send push notification\n    console.log(\"sending push...\")\n    await fetch(`${apiUrl}/save-subscription`, {\n        method: \"POST\",\n        body: JSON.stringify(subscription),\n        headers: {\n            \"content-type\" : \"application/json\"\n        }\n    })\n    console.log(\"Push sent...\")\n\n}\n\nasync function pushNotification() {\n    \n    await fetch(`${apiUrl}/push-notification`, {\n        method: \"GET\",\n        mode: \"no-cors\" // 'cors' by default\n    })\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding)\n      .replace(/-/g, '+')\n      .replace(/_/g, '/');\n   \n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n   \n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n\n        <h2>Web Push Testing</h2>\n        <button onClick={saveSubscription}><h1>Save Subscription</h1></button>\n        <button onClick={pushNotification}><h1>Send Push Notification</h1></button>\n        <button onClick={() => console.log(isPushNotificationSupported())}><h1>Is Push Notification Supported?</h1></button>\n        {/* Todo: unsubscribe */}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/rodneycumming/Development/push-notifications/Frontend/src/serviceWorkerRegistration.js",[],"/Users/rodneycumming/Development/push-notifications/Frontend/src/reportWebVitals.js",[],"/Users/rodneycumming/Development/push-notifications/frontend/src/serviceWorkerRegistration.js",[],["71","72"],"/Users/rodneycumming/Development/push-notifications/frontend/src/App.js",["73","74","75","76","77","78","79"],"/Users/rodneycumming/Development/push-notifications/frontend/src/reportWebVitals.js",[],["80","81"],"/Users/rodneycumming/Development/push-notifications/frontend/src/index.js",[],["82","83"],"/Users/rodneycumming/Development/push-notifications/frontend/src/ScoreCalculator.js",["84","85"],"import React, { useState } from \"react\";\n\n {/* Gym in Morning, Do dishes, Washing, Reading, Meditating,Make Bed,GYM, Wake up time, Bed Time, Turn off screen time, Instrument, Journal, personal projects, career, Calorie Count */}\n\nconst habitConfig = {\n  Gym: 50,\n  Reading: 50,\n  Dishes: 10,\n  Meditating: 10,\n  Instrument: 10,\n  Journal: 10,\n  'Personal Projects': 20,\n  Career: 20,\n  'Reddit, Youtube, Chess': -100,\n  'Sleep': -20,\n  'Posture': 10\n};\n\nconst dailies = {\n  'Make Bed': 10,\n  'Out of bed before 7:05am': 20,\n  'Out of bed before 8:05am': 10,\n  'Turn off screens before 10:05pm': 30,\n}\n\nconst hours = [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21];\n\n// const getCurrentHour = () =>  new Date().getHours();\n\nconst ScoreCalculator = () => {\n  const [score, setScore] = useState({\n    7: {},\n    8: {},\n    9: {},\n    10: {},\n    11: {},\n    12: {},\n    13: {},\n    14: {},\n    15: {},\n    16: {},\n    17: {},\n    18: {},\n    19: {},\n    20: {},\n    21: {},\n  });\n\n  const [selectedHour, setSelectedHour] = useState(new Date().getHours());\n\n  const totalScoreForHour = hour => Object.values(score[hour]).reduce((a, b) => a + b, 0)\n\n  const totalScoreForDay = () => hours.reduce((acc, cur) => acc + totalScoreForHour(cur), 0)\n  \n  \n  \n\n\n  const handleSetScore = (category, amount) => {\n    const hour = selectedHour;\n\n    if (!score[hour][category]) {\n      setScore((prevState) => ({\n        ...prevState,\n        [hour]: {\n          ...prevState[hour],\n          [category]: prevState[hour][category] ? prevState[hour][category] + amount : amount,\n        },\n      }))\n    } else {\n      setScore((prevState) => ({\n        ...prevState,\n        [hour]: {\n          ...prevState[hour],\n          [category]: prevState[hour][category] && prevState[hour][category] > 0 ? prevState[hour][category] - amount : 0,\n        },\n      }))\n    }\n\n  }\n\n  const getButtonColour = score => {\n    console.log('getButtonColour', score)\n    if (score > 0) return 'lightgreen'\n    else if (score < 0) return 'red'\n    return 'lightgrey'\n  }\n\n  const currentDate = new Date();\n  const currentDay = `${currentDate.getDate()}-${currentDate.toLocaleString('default', { month: 'short' })}-${currentDate.getFullYear()}`;\n\n  return (\n    <div>\n\n      {/* <h1>{`Daily Score: ${score}`}</h1> */}\n      <h4>{`Date: ${currentDay}`}</h4>\n      <h1>{`Daily Score: ${totalScoreForDay()}`}</h1>  \n\n      {/* <h3>{`Selected hour: ${selectedHour ? `${selectedHour}:00` : 'Current Hour'}`}</h3> */}\n\n      {Object.keys(habitConfig).map(habit => (\n        <>\n        <button\n        onClick={() => handleSetScore(habit, habitConfig[habit])}\n        style={{ background: getButtonColour(score[selectedHour] && score[selectedHour][habit])}}\n      >\n        <p>{`${habit}`}</p>\n        <p>{`${habitConfig[habit]}`}</p>\n      </button>\n      {/* <button\n        onClick={() => console.log(score, selectedHour)}\n      >\n        <p>{`Remove ${habit}`}</p>\n      </button> */}\n      </>\n      ))}\n     \n\n\n      {/* <button onClick={() => setScore(score + 50)}><h1>Add Gym</h1></button>  */}\n\n      {/* TO ADD: POSTURE, CALORIES */}\n\n      {/* Time view to todos */}\n      {/* kanban board view to todos */}\n      <hr/>\n\n      {hours.map((hour) => (\n        <div>\n        <button onClick={() => setSelectedHour(hour)} style={{ background: getButtonColour(totalScoreForHour(hour)), minWidth: totalScoreForHour(hour)+ 100 || 0, color: selectedHour === hour ? 'black' : 'grey', outline: 'none'}} >\n          <div>{`${hour}:00 - ${hour + 1}:00`}</div>\n          <div>{`Score: ${totalScoreForHour(hour)}`}</div>\n        </button>\n        </div>\n      ))}\n\n    </div>\n  );\n};\n\nexport default ScoreCalculator;\n",["86","87"],"/Users/rodneycumming/Development/push-notifications/frontend/src/TodoList.js",[],"/Users/rodneycumming/Development/push-notifications/frontend/src/ProductivityForm.js",[],"/Users/rodneycumming/Development/push-notifications/frontend/src/Goals.js",[],["88","89"],"/Users/rodneycumming/Development/push-notifications/frontend/src/PushNotifications.js",[],"/Users/rodneycumming/Development/push-notifications/frontend/src/News.js",["90","91","92"],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":61,"column":10,"nodeType":"99","messageId":"100","endLine":61,"endColumn":31},{"ruleId":"97","severity":1,"message":"101","line":75,"column":16,"nodeType":"99","messageId":"100","endLine":75,"endColumn":33},{"ruleId":"93","replacedBy":"102"},{"ruleId":"95","replacedBy":"103"},{"ruleId":"97","severity":1,"message":"104","line":14,"column":10,"nodeType":"99","messageId":"100","endLine":14,"endColumn":15},{"ruleId":"97","severity":1,"message":"105","line":18,"column":8,"nodeType":"99","messageId":"100","endLine":18,"endColumn":11},{"ruleId":"97","severity":1,"message":"106","line":30,"column":8,"nodeType":"99","messageId":"100","endLine":30,"endColumn":13},{"ruleId":"97","severity":1,"message":"107","line":31,"column":8,"nodeType":"99","messageId":"100","endLine":31,"endColumn":17},{"ruleId":"97","severity":1,"message":"108","line":32,"column":8,"nodeType":"99","messageId":"100","endLine":32,"endColumn":12},{"ruleId":"97","severity":1,"message":"109","line":36,"column":8,"nodeType":"99","messageId":"100","endLine":36,"endColumn":13},{"ruleId":"97","severity":1,"message":"110","line":39,"column":8,"nodeType":"99","messageId":"100","endLine":39,"endColumn":25},{"ruleId":"93","replacedBy":"111"},{"ruleId":"95","replacedBy":"112"},{"ruleId":"93","replacedBy":"113"},{"ruleId":"95","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":3,"column":2,"nodeType":"117","messageId":"118","endLine":3,"endColumn":187},{"ruleId":"97","severity":1,"message":"119","line":19,"column":7,"nodeType":"99","messageId":"100","endLine":19,"endColumn":14},{"ruleId":"93","replacedBy":"120"},{"ruleId":"95","replacedBy":"121"},{"ruleId":"93","replacedBy":"122"},{"ruleId":"95","replacedBy":"123"},{"ruleId":"97","severity":1,"message":"124","line":1,"column":17,"nodeType":"99","messageId":"100","endLine":1,"endColumn":26},{"ruleId":"97","severity":1,"message":"125","line":1,"column":28,"nodeType":"99","messageId":"100","endLine":1,"endColumn":36},{"ruleId":"126","severity":1,"message":"127","line":14,"column":5,"nodeType":"128","endLine":14,"endColumn":164},"no-native-reassign",["129"],"no-negated-in-lhs",["130"],"no-unused-vars","'registerServiceWorker' is defined but never used.","Identifier","unusedVar","'askUserPermission' is defined but never used.",["129"],["130"],"'green' is defined but never used.","'Box' is defined but never used.","'Badge' is defined but never used.","'Container' is defined but never used.","'Grid' is defined but never used.","'Paper' is defined but never used.","'NotificationsIcon' is defined but never used.",["129"],["130"],["129"],["130"],"no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","'dailies' is assigned a value but never used.",["129"],["130"],["129"],["130"],"'useEffect' is defined but never used.","'useState' is defined but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]